(this["webpackJsonpclose-frontend"]=this["webpackJsonpclose-frontend"]||[]).push([[0],{19:function(e,t,a){"use strict";var n=a(83),r=a(13),i=a(14),o=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"rest",value:function(e){var t=this;return new Promise((function(a){fetch("".concat(t.host).concat(e),{headers:{Authorization:"Basic ".concat(t.auth)}}).then((function(t){switch(t.status){case 200:return t.json();case 403:return console.error("Forbidden: ".concat(e)),void a();default:return console.error(t.status,t.text()),void a()}})).then((function(e){void 0===e?a():0!==e.error?(console.error(e.message),a()):a(e.data)})).catch((function(e){console.error(e),a()}))}))}},{key:"layoutList",value:function(){var e=this;return new Promise((function(t){e.rest("layout/list").then(t)}))}},{key:"layoutGet",value:function(e){var t=this;return new Promise((function(a){t.rest("layout/get?q=".concat(encodeURIComponent(e))).then(a)}))}},{key:"varList",value:function(){var e=this;return new Promise((function(t){e.rest("var/list").then(t)}))}},{key:"varGet",value:function(e){var t=this;return new Promise((function(a){t.rest("var/get?q=".concat(encodeURIComponent(e))).then(a)}))}},{key:"varSet",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r){a.rest("var/set?q=".concat(encodeURIComponent(e),"&v=").concat(encodeURIComponent(t),"&f=").concat(n?1:0)).then(r)}))}},{key:"varSubConnected",value:function(){return void 0!==this.subConnection&&null!==this.subConnection&&this.subConnection.readyState===this.subConnection.OPEN}},{key:"varSubConnect",value:function(){var e=this;return new Promise((function(t){e.varSubConnected()?t((function(e){})):(e.subConnection=new EventSource("".concat(e.host,"var/sub"),{withCredentials:!0}),e.varList().then((function(a){if(void 0!==a){var r,i=Object(n.a)(a);try{var o=function(){var t=s=r.value;e.subConnection.addEventListener(s,(function(a){if(void 0!==e.varCb[t]){var r,i=Object(n.a)(e.varCb[t]);try{for(i.s();!(r=i.n()).done;){var o=r.value;void 0!==o&&o(a.data)}}catch(s){i.e(s)}finally{i.f()}}}))};for(i.s();!(r=i.n()).done;){var s;o()}}catch(l){i.e(l)}finally{i.f()}t((function(t){return e.subConnection.close()}))}t()})))}))}},{key:"varSub",value:function(e,t){var a=this;void 0===this.varCb[e]&&(this.varCb[e]=[]);var n=this.varCb[e].push(t)-1;return function(t){return a.varCb[e][n]=void 0}}},{key:"setup",value:function(){var e=this;return new Promise((function(t){e.rest("setup").then(t)}))}}]),e}();o.host="/api/",o.auth="",o.varCb={},t.a=o},215:function(e,t,a){},232:function(e,t,a){"use strict";(function(e){var n=a(13),r=a(14),i=a(17),o=a(16),s=a(0),l=a.n(s),c=a(124),u=a(37),h=(a(68),a(43)),m=a(19),p=a(22),v=function(t){Object(i.a)(s,t);var a=Object(o.a)(s);function s(e){var t;return Object(n.a)(this,s),(t=a.call(this,e)).state={user:"",pass:"",initialLoad:!0,loginLoading:!1,loginFailed:!1,loggedIn:!1},t}return Object(r.a)(s,[{key:"componentDidMount",value:function(){void 0!==localStorage.getItem("auth")?this.login(localStorage.getItem("auth"),!0):this.setState({initialLoad:!1})}},{key:"login",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({loginLoading:!0,loginFailed:!1},(function(n){m.a.auth=e,m.a.layoutList().then((function(e){void 0===e?t.setState({loginFailed:!a,loginLoading:!1,initialLoad:!1}):(localStorage.setItem("auth",m.a.auth),t.props.history.push("/home"))}))}))}},{key:"render",value:function(){var t=this,a=e.from("".concat(this.state.user,":").concat(this.state.pass)).toString("base64");return this.state.initialLoad?l.a.createElement(l.a.Fragment,null):l.a.createElement(h.a,{loggedIn:!1,header:"Login",subHeader:"closedHAB"},l.a.createElement(c.a,{style:{width:"10cm",margin:"auto"}},l.a.createElement(c.a.Input,{label:"Username",input:{autoComplete:"username"},onChange:function(e){return t.setState({user:e.target.value,loginFailed:!1})},disabled:this.state.loginLoading,error:this.state.loginFailed}),l.a.createElement(c.a.Input,{label:"Password",input:{autoComplete:"current-password"},type:"password",onChange:function(e){return t.setState({pass:e.target.value,loginFailed:!1})},disabled:this.state.loginLoading,error:this.state.loginFailed}),l.a.createElement(c.a.Button,{style:{backgroundColor:"#9f35cc"},floated:"right",onClick:function(e){return t.login(a)},disabled:this.state.loginLoading,loading:this.state.loginLoading},"Log in",l.a.createElement(u.a,{name:"arrow right"}))))}}]),s}(l.a.Component);t.a=Object(p.f)(v)}).call(this,a(280).Buffer)},239:function(e,t,a){e.exports=a.p+"static/media/logo.dba46384.png"},273:function(e,t,a){e.exports=a(445)},278:function(e,t,a){},43:function(e,t,a){"use strict";var n=a(23),r=a(13),i=a(14),o=a(17),s=a(16),l=a(0),c=a.n(l),u=a(165),h=a(166),m=a(125),p=a(262),v=a(164),d=a(37),f=a(36),b=a(236),g=a(19),y=a(239),E=a.n(y),O=a(68),j=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={setup:{},sidebar:"1"===(localStorage.getItem("sidebar")||"1")},g.a.auth=localStorage.getItem("auth")||"",g.a.varSubConnect(),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.setup().then((function(t){void 0===t?"/"!==window.location.pathname&&(window.location.pathname="/"):e.setState({setup:t})}))}},{key:"toggleSidebar",value:function(){var e=this;this.setState({sidebar:!this.state.sidebar},(function(t){localStorage.setItem("sidebar",e.state.sidebar?"1":"0")}))}},{key:"render",value:function(){var e=this,t=document.location.pathname,a=void 0===this.props.loggedIn||this.props.loggedIn,r={position:"fixed",top:"0",left:"0",minWidth:"100vw",minHeight:"100vh"},i=Object(n.a)(Object(n.a)({},r),{},{overflow:"hidden"}),o=Object(n.a)(Object(n.a)({},r),{},{backgroundColor:"#ddd"}),s=Object(n.a)(Object(n.a)({},r),{},{minWidth:"",right:this.state.sidebar&&a?"150px":"0",bottom:"0",margin:"0",transition:"transform 500ms ease, right 500ms ease",overflow:"hidden scroll"}),l={position:"fixed",top:"4mm",left:"4mm",zIndex:10,backgroundColor:"#9f35ccb0",transition:"opacity 1s"},g=Object(n.a)({},l),y=Object(n.a)(Object(n.a)({},l),{},{opacity:this.state.sidebar?0:1}),j=[{key:void 0===localStorage.getItem("homepage")?"/homeSet":"/home",name:"Home",icon:"home"},{key:"/layouts",name:"Layouts",icon:"columns"},{key:"/variables",name:"Variables",icon:"sitemap"},{key:"/settings",name:"Settings",icon:"settings"},{key:"/about",name:"About",icon:"info"}],S=c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{style:y,size:"medium",circular:!0,icon:"sidebar",onClick:function(t){return e.toggleSidebar()}}),this.props.subHeader&&c.a.createElement(O.a,{sub:!0},this.props.subHeader),this.props.header&&c.a.createElement(O.a,null,this.props.header));return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,null,c.a.createElement("title",null,this.state.setup.name||"closedHAB")),a?c.a.createElement(h.a.Pushable,{style:i},c.a.createElement(h.a,{style:{MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none",userSelect:"none",OUserSelect:"none"},width:"thin",animation:"slide out",inverted:!0,vertical:!0,visible:this.state.sidebar,as:m.a},c.a.createElement(u.a,{style:g,size:"small",circular:!0,icon:"x",onClick:function(t){return e.toggleSidebar()}}),c.a.createElement(m.a.Header,null,c.a.createElement(p.a,{inverted:!0,textAlign:"center",style:{marginTop:"12mm",marginBottom:"10px"}},c.a.createElement(v.a,{src:E.a,size:"massive",style:{pointerEvents:"none"}}),c.a.createElement("br",null),"closedHAB")),j.map((function(e){return c.a.createElement(m.a.Item,{key:e.key,active:t===e.key,as:f.b,to:e.key},c.a.createElement(d.a,{name:e.icon}),e.name)})),c.a.createElement(m.a.Item,{onClick:function(e){return localStorage.removeItem("auth")},as:f.b,to:"/"},c.a.createElement(d.a,{name:"log out"}),"Log out")),c.a.createElement(h.a.Pusher,{style:o},c.a.createElement("div",{style:s},S,this.props.children))):c.a.createElement("div",{style:r},S,this.props.children))}}]),a}(c.a.Component);t.a=j},445:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(62),o=a.n(i),s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,464)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))},l=a(231),c=a(36),u=a(22),h=(a(278),a(279),a(232)),m=a(13),p=a(14),v=a(17),d=a(16),f=a(19),b=a(23),g=a(461),y=a(460),E=a(262),O=a(165),j=a(261),S=a(37),k=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"formatName",value:function(e){return e[0].toUpperCase()+e.substr(1)}},{key:"format",value:function(e){e=e.toString();var t=Object(j.a)(e.matchAll(/(icon-[\w\s]+-)/g));if(0===t.length)return r.a.createElement(r.a.Fragment,null,e);for(var a=[r.a.createElement(r.a.Fragment,null,e.substring(0,t[0].index))],n=0;n<t.length;n++){var i=t[n],o=e.length;void 0!==t[n+1]&&(o=t[n+1].index);var s=i[0].substring(5,i[0].length-1),l=e.substring(i.index+i[0].length,o);s&&a.push(r.a.createElement(S.a,{name:s})),l&&a.push(r.a.createElement(r.a.Fragment,null,l))}return r.a.createElement(r.a.Fragment,null,a)}}]),e}(),C=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).props.var||console.error("CButton: No var given"),void 0===n.props.value&&console.error('CButton: No value given for var "'.concat(n.props.var,'"')),n}return Object(p.a)(a,[{key:"send",value:function(){this.props.var&&void 0!==this.props.value&&f.a.varSet(this.props.var,this.props.value,this.props.forceSend)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{inverted:!0,primary:!0,icon:this.props.icon,style:{height:"60px",fontSize:"1.2rem",width:"min(20vw, 250px)",textAlign:"center"},fluid:!0,onClick:function(t){return e.send()}},r.a.createElement("div",{style:{position:"relative",left:"50%",transform:"translate(-50%, 0)",width:"19px"}},k.format(this.props.text||this.props.children))))}}]),a}(r.a.Component),w=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Group,{vertical:this.props.vertical},this.props.buttons.map((function(e){return r.a.createElement(C,e)}))))}}]),a}(r.a.Component),x=(a(215),a(463)),L=a(85),F=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={value:0,last:0},n.props.var||console.error("CSlider: No var given"),n.sliderRef=r.a.createRef(),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.varGet(this.props.var).then((function(t){return e.setState({value:parseFloat(t),last:parseFloat(t)})})),this.closeSub=f.a.varSub(this.props.var,(function(t){return e.setState({value:parseFloat(t),last:parseFloat(t)})})),this.sliderRef.current.addEventListener("wheel",(function(t){return e.scrollFunc(t)}),{passive:!1})}},{key:"componentWillUnmount",value:function(){this.closeSub()}},{key:"startSend",value:function(){var e=this;this.send(),this.int=setInterval((function(t){return e.send()}),this.props.interval||500)}},{key:"stopSend",value:function(){this.int&&clearInterval(this.int)}},{key:"send",value:function(){this.props.var&&this.state.value!==this.state.last&&(f.a.varSet(this.props.var,this.state.value,this.props.forceSend),this.setState({last:this.state.value}))}},{key:"scrollFunc",value:function(e){var t=this,a=this.props.min||0,n=this.props.max||100;return this.setState({value:Math.max(a,Math.min(n,this.state.value-.05*e.deltaY))},(function(e){return t.send()})),e.preventDefault(),!1}},{key:"disableScroll",value:function(){var e=this,t=window.scrollX,a=window.scrollY;document.getElementsByClassName("pusher")[0].addEventListener("scroll",(function(n){return e.scrollFunc(n,t,a)}))}},{key:"enableScroll",value:function(){document.getElementsByClassName("pusher")[0].removeEventListener("scroll",this.scrollFunc)}},{key:"render",value:function(){var e=this,t=Math.pow(10,this.props.labelPrecision||0),a=this.props.min||0,n=this.props.max||100,i=(this.state.value-a)/(n-a)*100,o={width:"100%",height:this.props.vertical?"220px":"70px"},s={position:"absolute",top:this.props.vertical?"100px":"50%",left:"50%",height:this.props.vertical?"60px":"50px",width:this.props.vertical?"175px":"100%",transform:"translate(-50%, -50%) ".concat(this.props.vertical?"rotate(-90deg)":"")},l={WebkitAppearance:"none",width:this.props.vertical?"175px":"100%",height:this.props.vertical?"40px":"7px",borderRadius:"3px"};if("hue"===this.props.color);else if(void 0!==this.props.color){var c=this.props.color;l.background="linear-gradient(to right, #".concat(c," 0%, #").concat(c," ").concat(i,"%, #eee ").concat(i,"%, #eee 100%)")}else l.background="linear-gradient(to right, #9f35cc 0%, #b75bde ".concat(i,"%, #eee ").concat(i,"%, #eee 100%)");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:o}),r.a.createElement("div",{className:"csliderroot",style:s},this.props.rating?r.a.createElement(x.a,{icon:"star",maxRating:"10",clearable:!0,rating:Math.round(10*this.state.value/n),onRate:function(t,a){var n=a.rating,r=a.maxRating;return e.setState({value:100*n/r},(function(t){return e.send()}))}}):r.a.createElement("input",{type:"range",ref:this.sliderRef,className:"cslider".concat(this.props.vertical?" vertical":"").concat("hue"===this.props.color?" hue":""),style:l,orient:this.props.vertical?"vertical":"",value:this.state.value,min:a,max:n,step:this.props.step||"any",onMouseDown:function(t){return e.startSend()},onPointerDown:function(t){return e.startSend()},onMouseUp:function(t){return e.stopSend()},onPointerUp:function(t){return e.stopSend()},onChange:function(t){return e.setState({value:t.target.value})}}),!this.props.hideLabel&&r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(L.a,{basic:!0,ribbon:!this.props.vertical,pointing:"above"},(this.props.labelConv||function(e){return"".concat(e,"%")})(Math.round((i+Number.EPSILON)*t)/t)))))}}]),a}(r.a.Component),I=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={value:0},n.props.var||console.error("CButton: No var given"),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.varGet(this.props.var).then((function(t){return e.setState({value:parseFloat(t)})})),this.closeSub=f.a.varSub(this.props.var,(function(t){return e.setState({value:parseFloat(t)})}))}},{key:"componentWillUnmount",value:function(){this.closeSub()}},{key:"send",value:function(){this.props.var&&f.a.varSet(this.props.var,this.state.value>=.5?0:1,this.props.forceSend)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{height:"60px",fontSize:"1.2rem"},primary:this.state.value>=.5,fluid:!0,toggle:!0,onClick:function(t){return e.send()}},k.format(this.props.text||this.props.children)))}}]),a}(r.a.Component),M=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,"Not Implemented")}}]),a}(r.a.Component),R=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.var&&(f.a.varGet(this.props.var).then((function(t){return e.setState({value:t})})),this.closeSub=f.a.varSub(this.props.var,(function(t){return e.setState({value:t})})))}},{key:"componentWillUnmount",value:function(){this.props.var&&this.closeSub()}},{key:"render",value:function(){var e=function(e){return k.format(e)};return void 0!==this.state.value?r.a.createElement(r.a.Fragment,null,e(this.state.value)):void 0!==this.props.text?r.a.createElement(r.a.Fragment,null,e(this.props.text)):r.a.createElement(r.a.Fragment,null)}}]),a}(r.a.Component),U=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{style:{margin:"5px"},size:"large",textAlign:"center"},k.format(this.props.text))}}]),a}(r.a.Component),P=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e={button:C,buttongroup:w,toggle:I,slider:F,text:R,header:U}[this.props.type];void 0===e&&(console.warn("".concat(this.props.type," is not implemented")),e=M);var t={backgroundColor:this.props.inverted?"#222":"",textAlign:"center"};return r.a.createElement(y.a,{raised:!0,fluid:!0,style:t},void 0!==this.props.header&&r.a.createElement(y.a.Header,null,r.a.createElement(E.a,{textAlign:"center",size:"large",style:{margin:"10px"}},this.props.header)),r.a.createElement(y.a.Content,null,r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(e,this.props))))}}]),a}(r.a.Component),A=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=Object(b.a)(Object(b.a)({},this.props),{},{layout:void 0}),n=this.props.isCol||this.props.first,i=Object.entries(this.props.layout).map((function(t){if(void 0===t[1].type)return r.a.createElement(a,Object(b.a)(Object(b.a)({},e.props),{},{first:!1,iscol:!n,layout:t[1]}));var i=r.a.createElement(P,t[1]);return n?r.a.createElement(g.a.Row,null,i):r.a.createElement(g.a.Column,null,i)}));return n?this.props.first?r.a.createElement(g.a,t,i):r.a.createElement(g.a.Column,t,i):r.a.createElement(g.a.Row,Object.assign({},t,{columns:(i||[]).length}),i)}}]),a}(r.a.Component),D=a(123),H=a.n(D),N=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(p.a)(a,[{key:"render",value:function(){var e={position:"absolute",left:"50%",transform:"translate(-50%, 0)",maxWidth:"1000px",width:this.props.windowWidth>600?"85%":"95%"};if(void 0===this.props.layout)return r.a.createElement(r.a.Fragment,null);switch(Object.keys(this.props.layout)[0]){case"grid":return r.a.createElement("div",{style:e},r.a.createElement(A,{layout:this.props.layout.grid,padded:this.props.windowWidth>600,first:!0}));default:return r.a.createElement(P,Object.entries(this.props.layout)[0][1])}}}]),a}(r.a.Component),B=H()(N),z=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("homepage");f.a.layoutList().then((function(a){void 0===a?e.props.history.push("/"):void 0===a.find((function(e){return e===t}))?e.props.history.push("/homeSet"):f.a.layoutGet(t).then((function(t){e.setState({layout:t})}))}))}},{key:"render",value:function(){return void 0===this.state.layout?r.a.createElement(r.a.Fragment,null):r.a.createElement(B,{layout:this.state.layout})}}]),a}(r.a.Component),V=Object(u.f)(z),W=a(124),G=a(458),T=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={layouts:[],selected:localStorage.getItem("homepage")||"",saved:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.layoutList().then((function(t){e.setState({layouts:t||[]})}))}},{key:"save",value:function(){this.state.selected&&(localStorage.setItem("homepage",this.state.selected),this.setState({saved:!0}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W.a,{style:{width:"80%",margin:"auto"}},r.a.createElement(W.a.Field,null,r.a.createElement("label",null,"Select Homepage:"),r.a.createElement(G.a,{fluid:!0,button:!0,header:"Layouts",style:{backgroundColor:"#fff"},value:this.state.selected,onChange:function(t,a){return e.setState({selected:a.value,saved:!1})},options:this.state.layouts.sort((function(e,t){return t-e})).map((function(e){return{text:k.formatName(e),value:e}}))})),r.a.createElement("br",null),r.a.createElement(O.a,{animated:"fade",primary:!0,disabled:this.state.saved,onClick:function(t){return e.save()}},r.a.createElement(O.a.Content,{visible:!0},"Save"),r.a.createElement(O.a.Content,{hidden:!0},r.a.createElement(S.a,{name:"check"})))))}}]),a}(r.a.Component),q=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("id")||"";f.a.layoutList().then((function(a){void 0===a?e.props.history.push("/"):void 0===a.find((function(e){return e===t}))?e.props.history.push("/layouts"):f.a.layoutGet(t).then((function(t){e.setState({layout:t})}))}))}},{key:"render",value:function(){return void 0===this.state.layout?r.a.createElement(r.a.Fragment,null):r.a.createElement(B,{layout:this.state.layout})}}]),a}(r.a.Component),K=Object(u.f)(q),J=a(459),Y=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement(J.a,{bulleted:!0,relaxed:!0,animated:!0,size:"big"},this.props.items.map((function(e){return r.a.createElement(J.a.Item,{as:c.b,to:e[1]},e[0])})))}}]),a}(r.a.Component),X=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={layouts:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.layoutList().then((function(t){e.setState({layouts:t||[]})}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"10%",marginTop:"10px"}},r.a.createElement(Y,{items:this.state.layouts.sort((function(e,t){return t-e})).map((function(e){return[r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{name:localStorage.getItem("homepage")===e?"home":"columns"}),k.formatName(e)),"/view?id=".concat(e)]}))}))}}]),a}(r.a.Component),Q=a(115),Z=a(83),$=a(456),_=a(455),ee=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={vars:{},edit:void 0,editValue:"",editLoading:!1},n.inputRef=r.a.createRef(),n}return Object(p.a)(a,[{key:"reloadVars",value:function(){var e=this;f.a.varList().then((function(t){if(void 0!==t){var a,n=Object(Z.a)(t);try{var r=function(){var t=a.value;f.a.varGet(t).then((function(a){var n=Object(b.a)({},e.state.vars);n[t]=a,e.setState({vars:n})}))};for(n.s();!(a=n.n()).done;){r()}}catch(i){n.e(i)}finally{n.f()}}}))}},{key:"componentDidMount",value:function(){this.reloadVars()}},{key:"cancelEdit",value:function(){this.setState({edit:void 0,editValue:"",editLoading:!1})}},{key:"saveEdit",value:function(){var e=this;this.setState({editLoading:!0},(function(t){f.a.varSet(e.state.edit,e.state.editValue,!0).then((function(t){f.a.varGet(e.state.edit).then((function(t){e.setState({edit:void 0,editValue:"",editLoading:!1,vars:Object(b.a)(Object(b.a)({},e.state.vars),{},Object(Q.a)({},e.state.edit,t))})}))}))}))}},{key:"handleEditKey",value:function(e){13===e.keyCode&&this.saveEdit()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($.a,{open:!!this.state.edit,onClose:function(t){return e.cancelEdit()}},r.a.createElement($.a.Header,null,"Editing var '",this.state.edit,"'"),r.a.createElement($.a.Content,null,r.a.createElement(_.a,{fluid:!0,label:"Value",value:this.state.editValue,focus:!0,ref:this.inputRef,onChange:function(t){return e.setState({editValue:t.target.value})},onKeyDown:function(t){return e.handleEditKey(t)}})),r.a.createElement($.a.Actions,null,r.a.createElement(O.a,{onClick:function(t){return e.cancelEdit()},disabled:this.state.editLoading},r.a.createElement(S.a,{name:"x"}),"Cancel"),r.a.createElement(O.a,{primary:!0,onClick:function(t){return e.saveEdit()},disabled:this.state.editLoading,loading:this.state.editLoading},r.a.createElement(S.a,{name:"send"}),"Send"))),r.a.createElement(g.a,{celled:"internally",centered:!0,columns:2},r.a.createElement(g.a.Row,{columns:2},r.a.createElement(g.a.Column,{style:{textAlign:"right"}},r.a.createElement("b",null,"ID")),r.a.createElement(g.a.Column,null,r.a.createElement("b",null,"Value"))),Object.entries(this.state.vars).sort((function(e,t){return t[0]-e[0]})).map((function(t){return r.a.createElement(g.a.Row,{columns:2},r.a.createElement(g.a.Column,{style:{overflow:"hidden",textAlign:"right",marginTop:void 0===t[1]?"3px":"8px"}},t[0]),r.a.createElement(g.a.Column,{style:{overflow:"hidden"}},r.a.createElement(O.a,{basic:!0,onClick:function(a){return e.setState({edit:t[0],editValue:t[1]},(function(t){return e.inputRef.current.select()}))}},t[1])))}))))}}]),a}(r.a.Component),te=(a(68),function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"save",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W.a,{style:{width:"80%",margin:"auto"}},r.a.createElement(O.a,{primary:!0,as:c.b,to:"/homeSet",onClick:function(t){return e.save()}},"Set Homepage",r.a.createElement(S.a,{name:"right arrow"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{animated:"fade",primary:!0,onClick:function(t){return e.save()}},r.a.createElement(O.a.Content,{visible:!0},"Save"),r.a.createElement(O.a.Content,{hidden:!0},r.a.createElement(S.a,{name:"check"})))))}}]),a}(r.a.Component)),ae=H()(te),ne=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(r.a.Component),re=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"#000",position:"fixed",top:"0",left:"0",minWidth:"100vw",minHeight:"100vh",color:"#fff",textAlign:"center"}},r.a.createElement("h1",null,"404!"))}}]),a}(r.a.Component),ie=a(43);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0},r.a.createElement(h.a,null)),r.a.createElement(u.a,{path:"/home"},r.a.createElement(ie.a,{header:"Home"},r.a.createElement(V,null))),r.a.createElement(u.a,{path:"/homeSet"},r.a.createElement(ie.a,{header:"Set Homepage"},r.a.createElement(T,null))),r.a.createElement(u.a,{path:"/view"},r.a.createElement(ie.a,{header:"Layout"},r.a.createElement(K,null))),r.a.createElement(u.a,{path:"/layouts"},r.a.createElement(ie.a,{header:"Layouts"},r.a.createElement(X,null))),r.a.createElement(u.a,{path:"/variables"},r.a.createElement(ie.a,{header:"Variables"},r.a.createElement(ee,null))),r.a.createElement(u.a,{path:"/settings"},r.a.createElement(ie.a,{header:"Settings"},r.a.createElement(ae,null))),r.a.createElement(u.a,{path:"/about"},r.a.createElement(ie.a,{header:"About"},r.a.createElement(ne,null))),r.a.createElement(u.a,{component:re})))),document.getElementById("root")),s(),Object(l.a)()},68:function(e,t,a){"use strict";var n=a(23),r=a(13),i=a(14),o=a(17),s=a(16),l=a(0),c=a.n(l),u=a(262),h=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=Object(n.a)(Object(n.a)({},{MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none",userSelect:"none",OUserSelect:"none"}),{},{position:"absolute",left:"17mm",right:this.props.sidebar?"calc(17mm + 150px)":"17mm",marginTop:"15px",color:this.props.sub?"#9f35ccb0":void 0,transition:"right 500ms ease"}),t={width:"100%",height:this.props.sub?"calc(1.1em + 15px)":"calc(2em + 45px)"};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:t},c.a.createElement(u.a,{style:e,size:"huge",inverted:this.props.inverted,subheader:this.props.sub?this.props.children:void 0,dividing:!this.props.sub},this.props.sub?void 0:this.props.children)))}}]),a}(c.a.Component);t.a=h}},[[273,1,2]]]);
//# sourceMappingURL=main.cd7c7d47.chunk.js.map